### Test Inscription Utilisateur
POST http://ecoride.local/api/register.php
Content-Type: application/json

{
    "username": "testuser_php1",
    "firstName": "Test",
    "lastName": "PHP",
    "email": "testphp1@example.com",
    "password": "securePassword123",
    "birthdate": "1995-05-15",
    "phone": "0600000011"
}

### Test Connexion Utilisateur (Succès)
POST http://ecoride.local/api/login.php
Content-Type: application/json

{
    "identifier": "bob_passenger", 
    "password": "password123" 
}

### Test Connexion Utilisateur (Succès)
POST http://ecoride.local/api/login.php
Content-Type: application/json

{
    "identifier": "alice_driver_passenger", 
    "password": "password123" 
}

### Test Connexion Utilisateur (Admin - Succès)
POST http://ecoride.local/api/login.php
Content-Type: application/json

{
    "identifier": "admin@ecoride.com",
    "password": "adminPass"
}

### Test Connexion Utilisateur (Échec - mauvais mot de passe)
POST http://ecoride.local/api/login.php
Content-Type: application/json

{
    "identifier": "bob_passenger",
    "password": "wrongpassword"
}

### Test Connexion Utilisateur (Échec - utilisateur inconnu)
POST http://ecoride.local/api/login.php
Content-Type: application/json

{
    "identifier": "unknown_user",
    "password": "password123"
}

### Test Déconnexion Utilisateur
POST http://ecoride.local/api/logout.php
Content-Type: application/json

### Test de récupération de profil utilisateur 
GET http://ecoride.local/api/account.php 

### Test Mise à Jour Rôle Fonctionnel (Alice devient 'driver')
POST http://ecoride.local/api/update_user_role.php
Content-Type: application/json

{
    "role": "driver" 
}

### Test Mise à Jour Préférences Chauffeur (Alice)
POST http://ecoride.local/api/update_driver_preferences.php
Content-Type: application/json

{
    "pref_smoker": true,
    "pref_animals": false,
    "pref_custom": "Musique rock bienvenue, mais pas trop fort svp !" 
}

### Test Ajout Véhicule (Succès)
POST http://ecoride.local/api/add_vehicle.php
Content-Type: application/json

{
    "brand_id": 2,
    "model_name": "Twingo",
    "color": "Jaune",
    "license_plate": "NEW-CAR-01",
    "registration_date": "2022-05-15",
    "passenger_capacity": 3,
    "is_electric": false,
    "energy_type": "Essence"
}

### Test Ajout Véhicule (Échec - brand_id manquant)
POST http://ecoride.local/api/add_vehicle.php
Content-Type: application/json

{
    "model_name": "Modele Sans Marque",
    "license_plate": "ERR-001",
    "passenger_capacity": 4
}

### Test Ajout Véhicule (Échec - plaque dupliquée)
POST http://ecoride.local/api/add_vehicle.php
Content-Type: application/json

{
    "brand_id": 1,
    "model_name": "Autre Modele",
    "license_plate": "NEW-CAR-01", 
    "passenger_capacity": 2
}

### Récupérer la liste des marques
GET http://ecoride.local/api/get_brands.php

### Test Modification Véhicule (Alice - Succès)
POST http://ecoride.local/api/update_vehicle.php
Content-Type: application/json

{
    "id": 1,
    "brand_id": 1,
    "model_name": "208 Style",
    "color": "Gris Foncé",
    "license_plate": "AA-123-BB",
    "registration_date": "2019-03-15",
    "passenger_capacity": 3,
    "is_electric": false,
    "energy_type": "Gasoline"
}

### Test Modification Véhicule (Échec - Mauvais Propriétaire)
POST http://ecoride.local/api/update_vehicle.php
Content-Type: application/json

{
    "id": 2,
    "brand_id": 5,
    "model_name": "Model 3 Hacked",
    "color": "Noir",
    "license_plate": "CC-789-DD",
    "registration_date": "2021-07-01",
    "passenger_capacity": 4,
    "is_electric": true
}

### Test Modification Véhicule (Échec - Plaque Dupliquée)
POST http://ecoride.local/api/update_vehicle.php
Content-Type: application/json

{
    "id": 1, 
    "brand_id": 1,
    "model_name": "208 Test Plaque",
    "color": "Bleu",
    "license_plate": "CC-789-DD",
    "registration_date": "2019-03-15",
    "passenger_capacity": 4,
    "is_electric": false
}